
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Orapa Mine</title>
  <script type="module" crossorigin src="./assets/index-DKFJoLRo.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-BMHvRq3G.css">
</head>
<body>
    <div id="app">
        <!-- Main Menu Screen -->
        <div id="screen-main" class="screen">
            <div id="lang-switcher" title="Sprache wechseln / Change language"></div>
            <div class="screen-content">
                <h1 class="title">Orapa Mine</h1>
                <div class="subtitle-group">
                    <p class="byline">by Dirk Aporius and Google Studio AI</p>
                    <p class="based-on">based on the boardgame</p>
                </div>
                <div class="menu-buttons">
                    <button id="btn-start-game" data-i18n-key="mainMenu.startGame"></button>
                </div>
                <!-- Rules are now displayed directly on the main screen -->
                <div id="intro-rules"></div>
                <div class="version-info">Version: 1.03</div>
            </div>
        </div>

        <!-- Difficulty Select Screen -->
        <div id="screen-difficulty" class="screen hidden">
            <div class="screen-content">
                <h2 class="subtitle" data-i18n-key="difficulty.title"></h2>
                <div id="difficulty-options" class="menu-buttons vertical">
                    <!-- Buttons are generated by UI script -->
                </div>
            </div>
            <div class="menu-buttons">
                <button id="btn-back-to-main-1" class="btn-back" data-i18n-key="buttons.back"></button>
            </div>
        </div>
        
        <!-- Custom Level Creator Screen -->
        <div id="screen-custom-creator" class="screen hidden">
             <div class="screen-content custom-creator-layout">
                <h2 class="subtitle" data-i18n-key="customCreator.title"></h2>
                
                <div class="creator-main-content">
                    <div class="creator-config">
                        <h4 data-i18n-key="customCreator.selectColor"></h4>
                        <div id="custom-color-selector" class="selector-grid"></div>
                        
                        <h4 data-i18n-key="customCreator.selectShape"></h4>
                        <div id="custom-shape-selector" class="selector-grid"></div>
                        
                        <button id="btn-add-custom-gem" class="add-gem-button" data-i18n-key="customCreator.addGem"></button>
                    </div>
                    
                    <div class="creator-preview">
                        <h4 data-i18n-key="customCreator.levelSet"></h4>
                        <div id="custom-gem-list"></div>
                        <div id="custom-validation-feedback"></div>
                    </div>
                </div>
                
                <div class="menu-buttons">
                    <button id="btn-start-custom-level" disabled data-i18n-key="customCreator.startLevel"></button>
                    <button id="btn-back-to-difficulty" class="btn-back" data-i18n-key="buttons.back"></button>
                </div>
            </div>
        </div>

        <!-- End Screen -->
        <div id="screen-end" class="screen hidden">
            <div class="end-content-container">
                <h2 id="end-title" class="subtitle"></h2>
                <h3 id="end-rating"></h3>
                <p id="end-stats"></p>
                <p id="end-retry-message"></p>
                <div id="end-solution-wrapper">
                    <p id="end-solution-label"></p>
                    <canvas id="end-solution-canvas"></canvas>
                </div>
                <div id="end-rating-legend"></div>
            </div>
            <div class="menu-buttons">
                <button id="btn-new-level" data-i18n-key="buttons.newLevel"></button>
                <button id="btn-menu" data-i18n-key="buttons.menu"></button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="screen-game" class="screen hidden">
            <main id="game-container">
                <div id="game-board-wrapper">
                    <canvas id="gem-canvas" tabindex="0"></canvas>
                    <canvas id="path-overlay"></canvas>
                </div>
            </main>
            <footer id="controls-container">
                <div id="tab-buttons">
                    <button id="actions-tab-btn" class="tab-btn active" aria-controls="actions-panel" data-i18n-key="gameScreen.tabs.actions"></button>
                    <button id="log-tab-btn" class="tab-btn" aria-controls="log-panel" data-i18n-key="gameScreen.tabs.logbook"></button>
                    <button id="rules-tab-btn" class="tab-btn" aria-controls="rules-panel" data-i18n-key="gameScreen.tabs.rules"></button>
                </div>
                <div id="tab-panels">
                    <div id="actions-panel" class="tab-panel active">
                        <div class="mode-switch-wrapper">
                            <span data-i18n-key="gameScreen.interactionMode"></span>
                            <div id="mode-switch-container">
                                <button id="mode-wave-btn" class="mode-btn active" data-i18n-key="gameScreen.modeWave"></button>
                                <button id="mode-query-btn" class="mode-btn" data-i18n-key="gameScreen.modeQuery"></button>
                            </div>
                        </div>
                        <div id="gem-toolbar-wrapper">
                            <span data-i18n-key="gameScreen.availableGems"></span>
                            <div id="gem-toolbar"></div>
                        </div>
                        <div class="preview-toggle-wrapper">
                            <label for="preview-toggle" data-i18n-key="gameScreen.showPath"></label>
                            <input type="checkbox" id="preview-toggle">
                        </div>
                        <div id="action-buttons">
                            <button id="check-solution-btn" data-i18n-key="buttons.submitSolution"></button>
                            <button id="give-up-btn" data-i18n-key="buttons.giveUp"></button>
                        </div>
                    </div>
                    <div id="log-panel" class="tab-panel">
                        <ul id="log-list"></ul>
                    </div>
                    <div id="rules-panel" class="tab-panel">
                        <!-- Content generated by UI script -->
                    </div>
                </div>
            </footer>
        </div>

        <!-- Custom Shape Designer Modal -->
        <div id="custom-shape-designer-modal" class="screen hidden v-center">
            <div class="designer-content">
                <h3 data-i18n-key="customDesigner.title"></h3>
                <p data-i18n-key="customDesigner.instruction"></p>
                <div id="designer-grid" class="designer-grid-container">
                    <!-- Grid will be generated here -->
                </div>
                <div id="designer-preview-wrapper">
                     <h4 data-i18n-key="customDesigner.preview"></h4>
                     <canvas id="designer-preview-canvas"></canvas>
                </div>
                <div class="menu-buttons">
                    <button id="btn-finish-design" data-i18n-key="customDesigner.finish"></button>
                    <button id="btn-cancel-design" class="btn-back" data-i18n-key="buttons.back"></button>
                </div>
            </div>
        </div>
        
    </div>
</body>
</html>